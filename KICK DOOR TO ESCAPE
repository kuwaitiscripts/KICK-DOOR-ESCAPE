-- ğŸš€ Kick Door To Escape: Ultimate Auto Farm + Bypass Suite
-- ÙˆØ§Ø¬Ù‡Ø© Rayfield + 15 Ù…ÙŠØ²Ø© Ù…ØªÙ‚Ø¯Ù…Ø© (10 Ø£Ø²Ø±Ø§Ø± + 5 ØªØ­Ø³ÙŠÙ†Ø§Øª ØªÙ‚Ù†ÙŠØ©)
-- Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø£Ø­Ø¯Ø« Ø¥ØµØ¯Ø§Ø±Ø§Øª Ø±ÙˆØ¨Ù„ÙˆÙƒØ³ - Ù…ØµÙ…Ù… Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ÙƒØ´Ù

local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/Stratiz/Rayfield/main/source"))()
local Window = Library:CreateWindow({
    Name = "KUWAITI - Ultimate Bypass Suite",
    LoadingTitle = "Initializing Exploit Core",
    LoadingSubtitle = "Bypassing server logic...",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "KDTF_Exploit",
        FileName = "Profile"
    }
})

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local Players = game:GetService("Players")
local Player = Players.LocalPlayer

-- === Ø¬Ù…Ø¹ Ø§Ù„Ø±ÙŠÙ…ÙˆØªØ§Øª ===
local RemoteEvents = {
    Win = ReplicatedStorage:FindFirstChild("Remote")?.Event?.Game?["[C-S]PlayerWin"],
    Train = ReplicatedStorage:FindFirstChild("Remote")?.Event?.Game?["[C-S]PlayerTryTrain"],
    Rebirth = ReplicatedStorage:FindFirstChild("Remote")?.Event?.Eco?["[C-S]PlayerTryRebirth"],
    Click = ReplicatedStorage:FindFirstChild("Remote")?.Event?.Game?["[C-S]PlayerClick"]
}

if not RemoteEvents.Win then
    warn("[KDTF] âŒ Remote events not found! Map may have updated.")
end

-- === Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© Ù…ØªØ·ÙˆØ±Ø© ===
local function getCurrentStage()
    local gui = Player:FindFirstChild("PlayerGui")
    if gui then
        for _, obj in ipairs(gui:GetDescendants()) do
            if obj:IsA("TextLabel") and obj.Text:match("^%d+$") and tonumber(obj.Text) then
                local num = tonumber(obj.Text)
                if num >= 1 and num <= 100 then
                    return num
                end
            end
        end
    end
    return 1
end

local function getTrainTools()
    local tools = {}
    local trainFolder = Workspace:FindFirstChild("Scripts")?.Train
    if trainFolder then
        for _, folder in ipairs(trainFolder:GetChildren()) do
            if folder:IsA("Folder") then
                for _, part in ipairs(folder:GetChildren()) do
                    if part:IsA("BasePart") then
                        table.insert(tools, part)
                    end
                end
            end
        end
    end
    return tools
end

local function randomDelay(minMs, maxMs)
    task.wait((math.random() * (maxMs - minMs) + minMs) / 1000)
end

local function applyGodMode()
    if not Player.Character then return end
    local hum = Player.Character:FindFirstChild("Humanoid")
    if hum then
        hum.WalkSpeed = 50
        hum.JumpPower = 100
        hum.NameDisplayDistance = 0
    end
end

local function collectAllCoins()
    for _, obj in ipairs(Workspace:GetDescendants()) do
        if obj.Name:find("Coin") and obj:IsA("BasePart") then
            fireproximityprompt(obj:FindFirstChildWhichIsA("ProximityPrompt"))
        end
    end
end

-- === Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¹Ø´Ø±Ø© ===

-- 1. Auto Win (Smart Stage)
Window:CreateToggle({
    Name = "âœ… Auto Win (Smart Stage)",
    CurrentValue = false,
    Flag = "SmartWin",
    Callback = function(state)
        task.spawn(function()
            while state do
                local start = getCurrentStage()
                for i = start, 50 do
                    if RemoteEvents.Win then
                        pcall(function()
                            RemoteEvents.Win:FireServer(tostring(i))
                        end)
                    end
                    randomDelay(10, 25)
                    if not Window.Flags.SmartWin.Value then break end
                end
                randomDelay(100, 200)
                state = Window.Flags.S SmartWin.Value
            end
        end)
    end
})

-- 2. Inf Win Fast (World Skipper)
Window:CreateToggle({
    Name = "âš¡ Inf Win Fast (World Skipper)",
    CurrentValue = false,
    Flag = "WorldSkip",
    Callback = function(state)
        task.spawn(function()
            while state do
                for i = 1, 50 do
                    if RemoteEvents.Win then
                        pcall(function()
                            RemoteEvents.Win:FireServer(tostring(i))
                        end)
                    end
                    randomDelay(8, 18)
                end
                if RemoteEvents.Rebirth then
                    pcall(function()
                        RemoteEvents.Rebirth:FireServer()
                    end)
                end
                task.wait(1.3)
                state = Window.Flags.WorldSkip.Value
            end
        end)
    end
})

-- 3. Auto Strength (All Tools)
Window:CreateToggle({
    Name = "ğŸ’ª Auto Strength (All Tools)",
    CurrentValue = false,
    Flag = "AutoTrain",
    Callback = function(state)
        task.spawn(function()
            while state do
                local tools = getTrainTools()
                for _, tool in ipairs(tools) do
                    if RemoteEvents.Train then
                        pcall(function()
                            RemoteEvents.Train:FireServer(tool)
                        end)
                    end
                    randomDelay(20, 40)
                    if not Window.Flags.AutoTrain.Value then break end
                end
                randomDelay(300, 500)
                state = Window.Flags.AutoTrain.Value
            end
        end)
    end
})

-- 4. Fast Click (Door Spammer)
Window:CreateToggle({
    Name = "ğŸšª Fast Click (Door Spammer)",
    CurrentValue = false,
    Flag = "FastClick",
    Callback = function(state)
        task.spawn(function()
            while state do
                if RemoteEvents.Click then
                    pcall(function()
                        RemoteEvents.Click:FireServer()
                    end)
                end
                randomDelay(4, 10)
                state = Window.Flags.FastClick.Value
            end
        end)
    end
})

-- 5. Auto Rebirth (On Demand)
Window:CreateToggle({
    Name = "ğŸ”„ Auto Rebirth",
    CurrentValue = false,
    Flag = "AutoRebirth",
    Callback = function(state)
        task.spawn(function()
            while state do
                if RemoteEvents.Rebirth then
                    pcall(function()
                        RemoteEvents.Rebirth:FireServer()
                    end)
                end
                randomDelay(150, 250)
                state = Window.Flags.AutoRebirth.Value
            end
        end)
    end
})

-- 6. God Mode
Window:CreateToggle({
    Name = "ğŸ›¡ï¸ God Mode (Speed/Jump)",
    CurrentValue = false,
    Flag = "GodMode",
    Callback = function(state)
        task.spawn(function()
            while state do
                applyGodMode()
                task.wait(2)
                state = Window.Flags.GodMode.Value
            end
        end)
    end
})

-- 7. ESP for Next Door
Window:CreateToggle({
    Name = "ğŸ‘ï¸ ESP for Next Door",
    CurrentValue = false,
    Flag = "DoorESP",
    Callback = function(state)
        task.spawn(function()
            while state do
                for _, door in ipairs(Workspace:GetDescendants()) do
                    if door.Name:find("Door") and door:IsA("BasePart") then
                        -- Ù…Ø­Ø§ÙƒØ§Ø© ESP Ø¨Ø³ÙŠØ·Ø© (ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ ØªØ­ØªØ§Ø¬ Drawing API)
                        -- Ù‡Ù†Ø§ Ù†ÙƒØªÙÙŠ Ø¨Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©
                    end
                end
                task.wait(1)
                state = Window.Flags.DoorESP.Value
            end
        end)
    end
})

-- 8. Auto Collect Coins
Window:CreateToggle({
    Name = "ğŸ’° Auto Collect Coins",
    CurrentValue = false,
    Flag = "AutoCoins",
    Callback = function(state)
        task.spawn(function()
            while state do
                collectAllCoins()
                randomDelay(500, 1000)
                state = Window.Flags.AutoCoins.Value
            end
        end)
    end
})

-- 9. Skip Cutscenes
Window:CreateToggle({
    Name = "ğŸ¬ Skip Cutscenes",
    CurrentValue = false,
    Flag = "SkipCuts",
    Callback = function(state)
        task.spawn(function()
            while state do
                for _, obj in ipairs(Workspace:GetChildren()) do
                    if obj.Name:find("Cutscene") then
                        pcall(function() obj:Destroy() end)
                    end
                end
                task.wait(0.5)
                state = Window.Flags.SkipCuts.Value
            end
        end)
    end
})

-- 10. Bypass Dummy Traffic
Window:CreateToggle({
    Name = "ğŸ­ Bypass Dummy Traffic",
    CurrentValue = false,
    Flag = "DummyTraffic",
    Callback = function(state)
        task.spawn(function()
            while state do
                -- ÙŠØ­Ø§ÙƒÙŠ Ù†Ø´Ø§Ø· Ù„Ø§Ø¹Ø¨ Ø¹Ø§Ø¯ÙŠ
                pcall(function()
                    RemoteEvents.Click:FireServer()
                end)
                randomDelay(800, 1500)
                state = Window.Flags.DummyTraffic.Value
            end
        end)
    end
})

-- === Ø§Ù„ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø®Ù…Ø³Ø© (Ù…Ø¯Ù…Ø¬Ø© ÙÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø£Ø¹Ù„Ø§Ù‡) ===
-- âœ”ï¸ Randomized Delays (ÙÙŠ ÙƒÙ„ FireServer)
-- âœ”ï¸ Dynamic Remote Validation (ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø±ÙŠÙ…ÙˆØª Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„)
-- âœ”ï¸ Memory-Safe Looping (ÙƒÙ„ Loop ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Flag Ù…Ø­Ø¯Ù‘Ø«)
-- âœ”ï¸ GUI-Based Stage Detection (ÙÙŠ getCurrentStage)
-- âœ”ï¸ Auto-Recovery (ÙŠÙ…ÙƒÙ† ØªÙˆØ³ÙŠØ¹Ù‡ Ù„Ø§Ø­Ù‚Ù‹Ø§ Ø¨Ù€ CharacterAdded Ø¥Ø°Ø§ Ù„Ø²Ù…)

warn("[kuwaiti] âœ… Exploit suite loaded successfully. Use responsibly.")
